2025-10-21 10:45:10,588 - test - INFO - <module>:9 - {"event": "Logging system initialized successfully", "logger": "test", "level": "info", "timestamp": "2025-10-21T17:45:10.588362Z"}
2025-10-21 10:45:10,589 - business - INFO - <module>:15 - {"event_type": "user_created", "entity_type": "user", "entity_id": "user-123", "email": "test@example.com", "event": "Business Event", "logger": "business", "level": "info", "timestamp": "2025-10-21T17:45:10.589099Z"}
2025-10-21 10:47:52,633 - users_controller - INFO - register_user:106 - {"email": "logging-test@example.com", "role": "CUSTOMER", "event": "User registration attempt", "logger": "users_controller", "level": "info", "timestamp": "2025-10-21T17:47:52.632951Z"}
2025-10-21 10:47:52,633 - users_service - INFO - create_user:39 - {"email": "logging-test@example.com", "role": "CUSTOMER", "event": "Creating user", "logger": "users_service", "level": "info", "timestamp": "2025-10-21T17:47:52.633150Z"}
2025-10-21 10:47:52,633 - users_repository - INFO - get_by_email:30 - {"email": "logging-test@example.com", "event": "Querying user by email", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T17:47:52.633229Z"}
2025-10-21 10:47:52,665 - users_repository - WARNING - get_by_email:45 - {"email": "logging-test@example.com", "event": "User not found in database", "logger": "users_repository", "level": "warning", "timestamp": "2025-10-21T17:47:52.665012Z"}
2025-10-21 10:47:52,665 - passlib.handlers.bcrypt - WARNING - _load_backend_mixin:622 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/vishalchamaria/Workspace/interview-test/venv/lib/python3.14/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-21 10:47:52,924 - users_repository - INFO - create_user:49 - {"user_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "email": "logging-test@example.com", "role": "CUSTOMER", "event": "Creating user in database", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T17:47:52.924153Z"}
2025-10-21 10:47:52,927 - users_repository - INFO - create_user:74 - {"user_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "email": "logging-test@example.com", "event": "User created successfully in database", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T17:47:52.927584Z"}
2025-10-21 10:47:52,927 - business - INFO - create_user:57 - {"event_type": "user_created", "entity_type": "user", "entity_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "email": "logging-test@example.com", "role": "CUSTOMER", "event": "Business Event", "logger": "business", "level": "info", "timestamp": "2025-10-21T17:47:52.927839Z"}
2025-10-21 10:47:52,927 - users_service - INFO - create_user:58 - {"user_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "email": "logging-test@example.com", "role": "CUSTOMER", "event": "User created successfully", "logger": "users_service", "level": "info", "timestamp": "2025-10-21T17:47:52.927889Z"}
2025-10-21 10:47:52,928 - business - INFO - register_user:121 - {"event_type": "user_created", "entity_type": "user", "entity_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "email": "logging-test@example.com", "role": "CUSTOMER", "event": "Business Event", "logger": "business", "level": "info", "timestamp": "2025-10-21T17:47:52.928062Z"}
2025-10-21 10:47:52,928 - users_controller - INFO - register_user:131 - {"user_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "email": "logging-test@example.com", "role": "CUSTOMER", "event": "User registered successfully", "logger": "users_controller", "level": "info", "timestamp": "2025-10-21T17:47:52.928252Z"}
2025-10-21 10:47:52,931 - auth_controller - INFO - login:29 - {"email": "logging-test@example.com", "event": "Login attempt", "logger": "auth_controller", "level": "info", "timestamp": "2025-10-21T17:47:52.931529Z"}
2025-10-21 10:47:52,931 - users_service - INFO - verify_user_password:70 - {"email": "logging-test@example.com", "event": "Verifying user password", "logger": "users_service", "level": "info", "timestamp": "2025-10-21T17:47:52.931684Z"}
2025-10-21 10:47:52,931 - users_repository - INFO - get_by_email:30 - {"email": "logging-test@example.com", "event": "Querying user by email", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T17:47:52.931756Z"}
2025-10-21 10:47:52,933 - users_repository - INFO - get_by_email:42 - {"user_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "email": "logging-test@example.com", "event": "User found in database", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T17:47:52.932996Z"}
2025-10-21 10:47:53,168 - users_service - INFO - verify_user_password:78 - {"email": "logging-test@example.com", "user_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "event": "Password verification successful", "logger": "users_service", "level": "info", "timestamp": "2025-10-21T17:47:53.168703Z"}
2025-10-21 10:47:53,172 - auth_controller - INFO - login:62 - {"user_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "email": "logging-test@example.com", "role": "CUSTOMER", "event": "Login successful", "logger": "auth_controller", "level": "info", "timestamp": "2025-10-21T17:47:53.172179Z"}
2025-10-21 10:47:53,174 - users_repository - INFO - get_by_email:30 - {"email": "logging-test@example.com", "event": "Querying user by email", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T17:47:53.174730Z"}
2025-10-21 10:47:53,175 - users_repository - INFO - get_by_email:42 - {"user_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "email": "logging-test@example.com", "event": "User found in database", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T17:47:53.175818Z"}
2025-10-21 10:47:53,175 - users_controller - INFO - get_user:64 - {"requested_email": "logging-test@example.com", "user_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "event": "Getting user by email", "logger": "users_controller", "level": "info", "timestamp": "2025-10-21T17:47:53.175970Z"}
2025-10-21 10:47:53,176 - users_service - INFO - get_user_by_email:27 - {"email": "logging-test@example.com", "event": "Getting user by email", "logger": "users_service", "level": "info", "timestamp": "2025-10-21T17:47:53.176059Z"}
2025-10-21 10:47:53,176 - users_repository - INFO - get_by_email:30 - {"email": "logging-test@example.com", "event": "Querying user by email", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T17:47:53.176110Z"}
2025-10-21 10:47:53,176 - users_repository - INFO - get_by_email:42 - {"user_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "email": "logging-test@example.com", "event": "User found in database", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T17:47:53.176671Z"}
2025-10-21 10:47:53,176 - users_service - INFO - get_user_by_email:32 - {"user_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "email": "logging-test@example.com", "event": "User found", "logger": "users_service", "level": "info", "timestamp": "2025-10-21T17:47:53.176790Z"}
2025-10-21 10:47:53,176 - users_controller - INFO - get_user:86 - {"requested_email": "logging-test@example.com", "user_id": "bc9cc04f-2d86-48ce-bc46-b4d671748905", "event": "User retrieved successfully", "logger": "users_controller", "level": "info", "timestamp": "2025-10-21T17:47:53.176948Z"}
2025-10-21 19:04:41,532 - users_controller - INFO - register_user:106 - {"email": "docker-test@example.com", "role": "CUSTOMER", "event": "User registration attempt", "logger": "users_controller", "level": "info", "timestamp": "2025-10-21T19:04:41.532101Z"}
2025-10-21 19:04:41,533 - users_service - INFO - create_user:39 - {"email": "docker-test@example.com", "role": "CUSTOMER", "event": "Creating user", "logger": "users_service", "level": "info", "timestamp": "2025-10-21T19:04:41.533502Z"}
2025-10-21 19:04:41,533 - users_repository - INFO - get_by_email:30 - {"email": "docker-test@example.com", "event": "Querying user by email", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T19:04:41.533917Z"}
2025-10-21 19:04:41,563 - users_repository - WARNING - get_by_email:45 - {"email": "docker-test@example.com", "event": "User not found in database", "logger": "users_repository", "level": "warning", "timestamp": "2025-10-21T19:04:41.563916Z"}
2025-10-21 19:04:41,566 - passlib.handlers.bcrypt - WARNING - _load_backend_mixin:622 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-21 19:04:41,832 - users_repository - INFO - create_user:49 - {"user_id": "ce733f36-23f7-4c9a-a7dc-e20795fa37ec", "email": "docker-test@example.com", "role": "CUSTOMER", "event": "Creating user in database", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T19:04:41.832441Z"}
2025-10-21 19:04:41,835 - users_repository - ERROR - create_user:78 - {"user_id": "ce733f36-23f7-4c9a-a7dc-e20795fa37ec", "email": "docker-test@example.com", "error": "(psycopg2.errors.CheckViolation) new row for relation \"users\" violates check constraint \"users_role_check\"\nDETAIL:  Failing row contains (ce733f36-23f7-4c9a-a7dc-e20795fa37ec, docker-test@example.com, $2b$12$wEF5PytbDZhMduZ82CBzo.bh4DwXQaRni26g.eqQcFdRW57duU04m, CUSTOMER, {\"firstName\":\"Docker\",\"lastName\":\"Test\",\"phone\":\"+1234567890\",\"a..., 2025-10-21 19:04:41.83239+00, 2025-10-21 19:04:41.832395+00).\n\n[SQL: \n                INSERT INTO users (id, email, password, role, profile, created_at, updated_at)\n                VALUES (%(id)s, %(email)s, %(password)s, %(role)s, %(profile)s, %(created_at)s, %(updated_at)s)\n            ]\n[parameters: {'id': 'ce733f36-23f7-4c9a-a7dc-e20795fa37ec', 'email': 'docker-test@example.com', 'password': '$2b$12$wEF5PytbDZhMduZ82CBzo.bh4DwXQaRni26g.eqQcFdRW57duU04m', 'role': 'CUSTOMER', 'profile': '{\"firstName\":\"Docker\",\"lastName\":\"Test\",\"phone\":\"+1234567890\",\"address\":\"123 Docker St\"}', 'created_at': datetime.datetime(2025, 10, 21, 19, 4, 41, 832390, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 10, 21, 19, 4, 41, 832395, tzinfo=datetime.timezone.utc)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "event": "User creation failed - integrity error", "logger": "users_repository", "level": "error", "timestamp": "2025-10-21T19:04:41.835046Z"}
2025-10-21 19:04:41,836 - users_service - WARNING - create_user:63 - {"email": "docker-test@example.com", "error": "User with email docker-test@example.com already exists", "event": "User creation failed - duplicate email", "logger": "users_service", "level": "warning", "timestamp": "2025-10-21T19:04:41.836262Z"}
2025-10-21 19:04:41,836 - users_controller - WARNING - register_user:111 - {"email": "docker-test@example.com", "event": "User registration failed - email already exists", "logger": "users_controller", "level": "warning", "timestamp": "2025-10-21T19:04:41.836469Z"}
2025-10-21 19:04:48,914 - auth_controller - INFO - login:29 - {"email": "docker-test@example.com", "event": "Login attempt", "logger": "auth_controller", "level": "info", "timestamp": "2025-10-21T19:04:48.914640Z"}
2025-10-21 19:04:48,915 - users_service - INFO - verify_user_password:70 - {"email": "docker-test@example.com", "event": "Verifying user password", "logger": "users_service", "level": "info", "timestamp": "2025-10-21T19:04:48.915507Z"}
2025-10-21 19:04:48,915 - users_repository - INFO - get_by_email:30 - {"email": "docker-test@example.com", "event": "Querying user by email", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T19:04:48.915917Z"}
2025-10-21 19:04:48,917 - users_repository - WARNING - get_by_email:45 - {"email": "docker-test@example.com", "event": "User not found in database", "logger": "users_repository", "level": "warning", "timestamp": "2025-10-21T19:04:48.917828Z"}
2025-10-21 19:04:48,918 - users_service - WARNING - verify_user_password:73 - {"email": "docker-test@example.com", "event": "Password verification failed - user not found", "logger": "users_service", "level": "warning", "timestamp": "2025-10-21T19:04:48.918249Z"}
2025-10-21 19:04:48,918 - auth_controller - WARNING - login:34 - {"email": "docker-test@example.com", "event": "Login failed - invalid credentials", "logger": "auth_controller", "level": "warning", "timestamp": "2025-10-21T19:04:48.918677Z"}
2025-10-21 19:04:54,623 - users_controller - INFO - register_user:106 - {"email": "docker-new@example.com", "role": "CUSTOMER", "event": "User registration attempt", "logger": "users_controller", "level": "info", "timestamp": "2025-10-21T19:04:54.622935Z"}
2025-10-21 19:04:54,624 - users_service - INFO - create_user:39 - {"email": "docker-new@example.com", "role": "CUSTOMER", "event": "Creating user", "logger": "users_service", "level": "info", "timestamp": "2025-10-21T19:04:54.624395Z"}
2025-10-21 19:04:54,624 - users_repository - INFO - get_by_email:30 - {"email": "docker-new@example.com", "event": "Querying user by email", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T19:04:54.624715Z"}
2025-10-21 19:04:54,628 - users_repository - WARNING - get_by_email:45 - {"email": "docker-new@example.com", "event": "User not found in database", "logger": "users_repository", "level": "warning", "timestamp": "2025-10-21T19:04:54.628377Z"}
2025-10-21 19:04:54,879 - users_repository - INFO - create_user:49 - {"user_id": "86be0bba-28fa-4368-ad0f-b787dd1095fa", "email": "docker-new@example.com", "role": "CUSTOMER", "event": "Creating user in database", "logger": "users_repository", "level": "info", "timestamp": "2025-10-21T19:04:54.879107Z"}
2025-10-21 19:04:54,881 - users_repository - ERROR - create_user:78 - {"user_id": "86be0bba-28fa-4368-ad0f-b787dd1095fa", "email": "docker-new@example.com", "error": "(psycopg2.errors.CheckViolation) new row for relation \"users\" violates check constraint \"users_role_check\"\nDETAIL:  Failing row contains (86be0bba-28fa-4368-ad0f-b787dd1095fa, docker-new@example.com, $2b$12$9aEc/rbiK4PM9oqkXb10hOkdIQbU/29Z68/z7Z56ez5xR.CgXWY.C, CUSTOMER, {\"firstName\":\"Docker\",\"lastName\":\"New\",\"phone\":\"+1234567890\",\"ad..., 2025-10-21 19:04:54.879061+00, 2025-10-21 19:04:54.879067+00).\n\n[SQL: \n                INSERT INTO users (id, email, password, role, profile, created_at, updated_at)\n                VALUES (%(id)s, %(email)s, %(password)s, %(role)s, %(profile)s, %(created_at)s, %(updated_at)s)\n            ]\n[parameters: {'id': '86be0bba-28fa-4368-ad0f-b787dd1095fa', 'email': 'docker-new@example.com', 'password': '$2b$12$9aEc/rbiK4PM9oqkXb10hOkdIQbU/29Z68/z7Z56ez5xR.CgXWY.C', 'role': 'CUSTOMER', 'profile': '{\"firstName\":\"Docker\",\"lastName\":\"New\",\"phone\":\"+1234567890\",\"address\":\"123 Docker St\"}', 'created_at': datetime.datetime(2025, 10, 21, 19, 4, 54, 879061, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 10, 21, 19, 4, 54, 879067, tzinfo=datetime.timezone.utc)}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "event": "User creation failed - integrity error", "logger": "users_repository", "level": "error", "timestamp": "2025-10-21T19:04:54.881105Z"}
2025-10-21 19:04:54,882 - users_service - WARNING - create_user:63 - {"email": "docker-new@example.com", "error": "User with email docker-new@example.com already exists", "event": "User creation failed - duplicate email", "logger": "users_service", "level": "warning", "timestamp": "2025-10-21T19:04:54.882251Z"}
2025-10-21 19:04:54,882 - users_controller - WARNING - register_user:111 - {"email": "docker-new@example.com", "event": "User registration failed - email already exists", "logger": "users_controller", "level": "warning", "timestamp": "2025-10-21T19:04:54.882439Z"}
